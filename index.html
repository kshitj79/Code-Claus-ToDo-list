<!DOCTYPE html>
<html>
<head>
    <title>To-Do List</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 20px;
        }

        h1 {
            color: #333;
            text-align: center;
            margin-top: 0;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #a9f0f4;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
        }

        input[type="text"],
        textarea {
            width: 100%;
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        select {
            width: 100%;
            padding: 10px;
            font-size: 16px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        .todo-item {
            margin-bottom: 10px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background-color: #ffc1c1;
        }

        .todo-item .priority {
            font-weight: bold;
            margin-right: 10px;
        }

        .todo-item .datetime {
            color: #777;
            margin-bottom: 5px;
        }

        .todo-item .description {
            margin-bottom: 10px;
        }

        .todo-item.completed {
            background-color: #00ffa2;
        }

        .filters {
            margin-top: 20px;
        }

        .filters select {
            width: auto;
            margin-right: 10px;
        }
    </style>
    <script>
        let todos = [];

        function addTodo() {
            const todoInput = document.getElementById("todo-input");
            const priorityInput = document.getElementById("priority-input");
            const datetimeInput = document.getElementById("datetime-input");
            const descriptionInput = document.getElementById("description-input");

            const todo = {
                id: Date.now(),
                text: todoInput.value,
                priority: priorityInput.value,
                datetime: datetimeInput.value,
                description: descriptionInput.value,
                completed: false
            };

            todos.push(todo);
            todoInput.value = "";
            datetimeInput.value = "";
            descriptionInput.value = "";

            renderTodos();
        }

        function toggleCompleted(id) {
            todos = todos.map((todo) => {
                if (todo.id === id) {
                    return {
                        ...todo,
                        completed: !todo.completed
                    };
                }
                return todo;
            });

            renderTodos();
        }

        function deleteTodo(id) {
            todos = todos.filter((todo) => todo.id !== id);

            renderTodos();
        }

        function sortTodos() {
            todos.sort((a, b) => {
                if (a.priority < b.priority) return -1;
                if (a.priority > b.priority) return 1;
                return 0;
            });

            renderTodos();
        }

        function filterTodos() {
            const filterInput = document.getElementById("filter-input");
            const filterValue = filterInput.value.toLowerCase();

            const filteredTodos = todos.filter((todo) => {
                return todo.text.toLowerCase().includes(filterValue);
            });

            renderTodos(filteredTodos);
        }

        function renderTodos(filteredTodos) {
            const todoList = document.getElementById("todo-list");
            todoList.innerHTML = "";

            const todosToRender = filteredTodos || todos;

            todosToRender.forEach((todo) => {
                const todoItem = document.createElement("div");
                todoItem.className = "todo-item" + (todo.completed ? " completed" : "");

                const priority = document.createElement("span");
                priority.className = "priority";
                priority.textContent = todo.priority;

                const datetime = document.createElement("span");
                datetime.className = "datetime";
                datetime.textContent = todo.datetime;

                const description = document.createElement("div");
                description.className = "description";
                description.textContent = todo.description;

                const todoText = document.createElement("span");
                todoText.textContent = todo.text;

                const toggleButton = document.createElement("button");
                toggleButton.textContent = todo.completed ? "Undo" : "Complete";
                toggleButton.addEventListener("click", () => toggleCompleted(todo.id));

                const deleteButton = document.createElement("button");
                deleteButton.textContent = "Delete";
                deleteButton.addEventListener("click", () => deleteTodo(todo.id));

                todoItem.appendChild(priority);
                todoItem.appendChild(datetime);
                todoItem.appendChild(description);
                todoItem.appendChild(todoText);
                todoItem.appendChild(toggleButton);
                todoItem.appendChild(deleteButton);

                todoList.appendChild(todoItem);
            });
        }
    </script>
</head>
<body>
    <div class="container">
        <h1>To-Do List</h1>
        <div class="form-group">
            <label for="todo-input">New Task:</label>
            <input type="text" id="todo-input" />
        </div>
        <div class="form-group">
            <label for="priority-input">Priority:</label>
            <select id="priority-input">
                <option value="Low">Low</option>
                <option value="Medium">Medium</option>
                <option value="High">High</option>
            </select>
        </div>
        <div class="form-group">
            <label for="datetime-input">Date/Time:</label>
            <input type="datetime-local" id="datetime-input" />
        </div>
        <div class="form-group">
            <label for="description-input">Description:</label>
            <textarea id="description-input" rows="3"></textarea>
        </div>
        <button onclick="addTodo()">Add Task</button>
        <div class="filters">
            <label for="filter-input">Filter:</label>
            <input type="text" id="filter-input" oninput="filterTodos()" />
            <button onclick="sortTodos()">Sort by Priority</button>
        </div>
        <div id="todo-list"></div>
    </div>

    <script>
        // Initialize with some sample todos
        todos = [
            { id: 1, text: "Complete assignment", priority: "High", datetime: "2023-06-15T14:00", description: "Finish the project", completed: false },
            { id: 2, text: "Buy groceries", priority: "Medium", datetime: "2023-06-14T10:30", description: "Milk, eggs, bread", completed: false },
            { id: 3, text: "Read a book", priority: "Low", datetime: "2023-06-13T19:00", description: "Start reading 'The Alchemist'", completed: true },
            { id: 4, text: "Go for a run", priority: "Medium", datetime: "2023-06-12T07:00", description: "Run for 30 minutes", completed: false }
        ];

        renderTodos();
    </script>
</body>
</html>
